<!--Extend with Jinja!-->
{% extends "layout.html" %}
{% block main %}
    <head>
        <style>
            #likes * {
                width: 1.5rem;
                height: 1.5rem;
                display: inline-block;
                vertical-align: bottom;
            }

            #likes svg {
                color: rgb(118 169 250);
                margin-left: 2rem;
                cursor: pointer;
            }

            #likes svg:hover {
                color: #3F83F8;
            }

            #likes svg.clicked {
                color: #1a56db;
            }
        </style>
    </head>
    <body>
    {% if course.announcements|length == 0 %}
        <h1 class="mx-4 my-4 text-2xl text-black dark:text-white">You have no announcements! Try creating one!</h1>
    {% endif %}
    {% for a in course.announcements %}
        <div class="block p-6 ml-4 my-4 bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700"
             style="width: 90%">
            <div class="flex flex-row items-left">
                <img class="mb-3 w-12 h-12 rounded-full shadow-lg" alt="{{ a.author }}'s Profile Pic"
                     src="{{ a.author_pic }}" width="50" height="50">
                <div class="ml-4">
                    <h3 class="text-xl font-medium text-gray-900 dark:text-white">
                        {{ a.title }}{{ a.author * (a.title == "")|int }}</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400">{{ (a.author + " >") * (a.title != "")|int }} {{ a.course.name }}</p>
                </div>
            </div>

            <div class="font-normal text-gray-700 dark:text-gray-400 my-4">
                {% for line in a.content.split("\n") %}
                    {% if line != "" %}
                        <p>{{ line }}</p>
                    {% else %}
                        <br>
                    {% endif %}
                {% endfor %}
            </div>

            <div class="dark:text-white" id="likes">
                <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" style="margin-left: 0">
                    <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"></path>
                </svg>
                {{ a.likes }}

                <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"></path>
                </svg>
                {{ a.dislikes }}

                <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                          d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z"
                          clip-rule="evenodd"></path>
                </svg>
                {{ a.comments|length }}

                <br><br>
            </div>
            <p class="text-gray-400 dark:text-gray-600">{{ strftime(a.date.time(), "%-I:%M %p on %B %-d, %Y") }}</p>
        </div>

    {% endfor %}
    </body>
{% endblock %}