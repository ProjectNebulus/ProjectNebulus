<!--Extend with Jinja!-->
{% extends "layout.html" %}
{% block main %}

    {% if course.announcements|length == 0 %}
        <h1 style="margin-left:20px;margin-top:20px;" class="text-2xl text-black dark:text-white">You have no
            announcements! Try
            creating one!</h1>
    {% endif %}
    {% for i in range(course.announcements|length) %}
        {% set a = course.announcements[i] %}
        <a style="width:90%;margin:20px;"
           class="block p-6 w-full bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700">
            <div class="flex-col items-left pb-10">
                <div style="float:left;width:55px;">
                    <img  type="button" data-dropdown-toggle="userDropdown{{ i }}" id="avatar{{ i }}" data-dropdown-placement="bottom-start" class="w-10 h-10 rounded-full cursor-pointer mb-3 w-12 h-12 rounded-full shadow-lg" alt="{{ a.author }}'s Profile Pic"
                         src="{{ a.author_pic }}">

                </div>
                <div style="float:left;width:calc(100% - 65px);margin-left:10px;">
                    <h3 class="mb-1 text-xl font-medium text-gray-900 dark:text-white">{{ a.author }}</h3>
                    <span class="text-sm text-gray-500 dark:text-gray-400">{{ a.course.name }}<br>{{ strftime(a.date.time(), "%m/%d/%Y at %H:%M:%S") }}</span>
                </div>


            </div>

            <p class="font-normal text-gray-700 dark:text-gray-400">{{ a.content }}</p>
            <i style="display:inline-block;font-size:24px;color:deepskyblue;"  class="material-icons">thumb_up</i>
            <span style="color:white;font-size:30px;margin-right:15px;">{{ a.likes }}</span>
            <i style="display:inline-block;font-size:24px;color:gray;"  class="material-icons">thumb_down</i>
            <span style="color:white;font-size:30px;margin-right:15px;">{{ a.dislikes }}</span>
            <i style="display:inline-block;font-size:24px;color:gray;"  class="material-icons">chat</i>
            <span style="color:white;font-size:30px;margin-right:15px;">{{ a.comment_number }}</span>
            <br><br>
            <br>
{#            <span class="text-blue-600 dark:text-blue-300">Show Comments</span>#}
        </a>
        <!-- Dropdown menu -->
        <div id="userDropdown{{ i }}" class="z-10 hidden bg-white divide-y divide-gray-100 rounded shadow w-80 dark:bg-gray-700 dark:divide-gray-600">
            <div style="border-radius:10px 10px 0px 0px; height:60px;background:rgba{{ a.author_color }};"></div>
            <div class="px-4 py-3 text-xl text-gray-900 dark:text-white" style="border-radius:0px 0px 10px 10px;">
                <center>
                <img style="margin-top:-60px;background:rgb(18,25,38);border-style:solid;border-color:white;border-width:2px;" src="{{ a.author_pic }}" class="w-24 h-24 rounded-full">
                <div>{{ a.author }}</div>
                <div class="text-sm text-gray-400">{{ a.author_email }}</div>
                <div class="text-sm text-gray-400">Instructor at {{ a.author_school }}</div>
                    <div class="mb-6">
                        <input type="text" id="msg" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-900 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Message @{{ a.author }}" required>
                    </div>
                </center>
            </div>

        </div>

    {% endfor %}


{% endblock %}