<!--Extend with Jinja!-->
{% extends "layout.html" %}
{% block main %}
    {% include "navbar.html" %}

    {# Contains information like the username #}
    <span style="display:none" id="userinfo">{{ user }}</span>

    <div id="left"
         style="width:20%;height:90%;float:left; background-color: white !important; ">
        <center>
              <h3>Recent Activity</h3>
            {% for x in user_courses %}
                <h3>{{ x.name }}</h3>
                <hr/>
                <div class='course_updates'>
                {% for i in x.updates[0:3] %}
                    <div class='update_teacher'>
                        <p>{{ x.teacher }} > {{ x.name }}</p>
                    </div>
                    <div class='update_header'>
                    <h3>{{ i.header }}</h3>
                    <div class='update_info'>
                        <h4>{{ i.info }}</h4>
                    </div>
                {% endfor %}
            </div>
            {% endfor %}
        </center>
    </div>
    <div id="middle" style="width:60%;height:90%;float:left;overflow:auto;">
        <center>
            <h1>
                Your Courses

                <div style="float:right" id="course-nav">
                    <button type="button" id="join" class="text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800 shadow-lg shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"><span class="material-icons">search</span></button>
                  <button type="button"  id="create" class="text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800 shadow-lg shadow-cyan-500/50 dark:shadow-lg dark:shadow-cyan-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"><span class="material-icons">add</span></button>
              
                    
                </div>
              <br><br></br>
                {% for course in user_courses %}
                        <div class="max-w-sm bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700" style="float:left;margin:20px;">
      <a href="#">
          <img class="rounded-t-lg" src="/docs/images/blog/image-1.jpg" alt="" />
      </a>
      <div class="p-5">
          <a href="#">
              <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">{{ course.name }}</h5>
          </a>
          <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">{{ course.teacher }}</p>
          <a href="/courses/{{ course._id }}" class="inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
              Jump Into Course
              <svg class="ml-2 -mr-1 w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
          </a>
      </div>
  </div>
                    
                {% endfor %}

                <!DOCTYPE html>
                <html>
                <head>
                    <meta name="viewport" content="width=device-width, initial-scale=1">
                    <link rel="stylesheet" href="static/css/createCourse.css">
                </head>
                <body>
                <div id="CourseModal" class="modal">
                  <div class="CourseBtn" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed right-0 left-0 top-4 z-50 justify-center items-center h-modal md:h-full md:inset-0">
    <div class="relative px-4 w-full max-w-2xl h-full md:h-auto">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
            <!-- Modal header -->
            <div class="flex justify-between items-start p-5 rounded-t border-b dark:border-gray-600">
                <h3 class="text-xl font-semibold text-gray-900 lg:text-2xl dark:text-white">
                    Step 1: Create a Course
                </h3>
                <button type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-toggle="defaultModal">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>  
                </button>
            </div>
            <!-- Modal body -->
            <div class="p-6 space-y-6">
                <center>

                            <p style="color:#bababa;font-size:0.5em;">A course is a space for you to organize and thrive
                                in your learning experience. All you have to do is create a course and fill it in with
                                content!</p>

                            <span class='button' onclick="skipTemplates()">
                <img src="/static/images/icons/new.svg" style="visibility: visible;width:20px;height:20px;float:left;">
                Create course
                <img src="/static/images/icons/next.svg"
                     style="visibility: visible;width:20px;height:20px;float:right;">
              </span>

                            <h2 style="font-size:1.4vw">Or choose a template type</h2>

                            <div class='scroll'></div>
                        </center>
            </div>
            <!-- Modal footer -->
            <div class="flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600">
                <button data-modal-toggle="defaultModal" type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Page 1/5</button>
                
        </div>
    </div>
</div>
                    <div class="CourseBtn">
                        
                    </div>

                    <div class="CourseBtn">
                        <center>
                            <h1>
                                Step 2: Choose a Course
                                <span class="close"></span>
                            </h1>

                            <div class="scroll"></div>
                        </center>
                    </div>

                    <div class="CourseBtn">
                        <center>
                            <h1 id="change-if-skip-templates">
                                Step 3: Customize your Course
                                <span class="close"></span>
                            </h1>
                            <form id="create-course">
                                <input type="text" id="course-name"></input>
                                <label for="course-name">Course Name:</label>
                                <input type="text" id="course-teacher"></input>
                                <label for="course-teacher">Course Teacher:</label>
                                <br>
                                <input type="submit" value="Create your Course!"></input>
                                <p style="color:yellowgreen;font-size:1.5vw;font-weight:700;" id="create-course-status">
                                <p>
                            </form>

                            <h1>Or import from another LMS</h1>
                            <button class="button" id="import-schoology">Import from Schoology</button>
                            <button class="button" id="import-classroom">Import from Google Classroom</button>
                            <button class="button" id="import-canvas">Import from Canvas</button>
                        </center>
                    </div>

                    <div class="CourseBtn">
                        <h1>
                            Import from Schoology
                            <span class="close"></span>
                        </h1>
                        {% if db.CheckSchoology(user_acc._id) %}
                        <form class="schoology-import">
                        <input type="text" placeholder="Schoology Course Link"><br>
                        <input type="submit">
                        </form>
                        <br><br>
                        <h3>Instructions for getting the Section ID</h3>
                        <p>When you open a course, the link should be something like "[school].schoology.com/courses/[course-id]/materials".</p>
                        <p>Paste that link in the box above!</p>
                        {% else %}
                        <div id="connect-schoology">
                            <span class="material-icons-outlined">error</span>
                        </div>
                        {% endif %}
                    </div>
                </div>
                <script src="static/js/createCourse.js"></script>
                </body>

                </html>
            </h1>

            
    </div>

    <div id="right" style="width:20%;height:90%;float:right;background-color:transparent;overflow:auto">
        <h3>Upcoming Events & Assignments</h3>
        <p>Unit 3 Test</p>
    </div>

{% endblock %}